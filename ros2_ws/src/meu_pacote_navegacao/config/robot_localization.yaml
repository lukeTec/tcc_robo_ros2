# robot_localization.yaml 
# -----------------------------------------------------------------

robot_localization:
  ros__parameters:

    frequency: 20.0
    sensor_timeout: 0.1
    two_d_mode: true
    publish_tf: true
    print_diagnostics: true
    process_noise_covariance: [0.05, 0, 0, 0, 0, 0,
                           0, 0.05, 0, 0, 0, 0,
                           0, 0, 0.01, 0, 0, 0,
                           0, 0, 0, 0.01, 0, 0,
                           0, 0, 0, 0, 0.01, 0,
                           0, 0, 0, 0, 0, 0.01]

    initial_estimate_covariance: [1e-3, 0, 0, 0, 0, 0,
                              0, 1e-3, 0, 0, 0, 0,
                              0, 0, 1e-6, 0, 0, 0,
                              0, 0, 0, 1e-6, 0, 0,
                              0, 0, 0, 0, 1e-6, 0,
                              0, 0, 0, 0, 0, 1e-6]
    # --- Frames  ---
    map_frame: map
    odom_frame: odom
    base_link_frame: base_link
    world_frame: odom

    odom0: odom
    odom0_queue_size: 9

    # Diz ao EKF para IGNORAR a Pose (X,Y,Yaw) do T2
    # e usar APENAS as Velocidades (Twist)
    odom0_differential: true
    odom0_relative: false # 'false' Ã© correto quando differential=true e medindo velocidades

    odom0_config:
    # [X,     Y,     Z,      (Pose)
    #  Roll,  Pitch, Yaw,
    #  Vx,    Vy,    Vz,     (Velocidade/Twist)
    #  VR,    VP,    VYaw,
    #  Ax,    Ay,    Az]
      [true, true, false,  # Ignorar X, Y, Z da Pose
       false, false, true,  # Ignorar R, P, Y da Pose
       true,  false, false,  # USAR Vx (Velocidade Linear)
       false, false, true,   # USAR V-Yaw (Velocidade Angular)
       false, false, false]  # Ignorar o resto
